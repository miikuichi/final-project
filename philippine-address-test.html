<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Philippine Address Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .test-data {
            background: #e2e3e5;
            border: 1px solid #d6d8db;
            color: #383d41;
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>Philippine Address Test</h1>
    
    <div class="test-section">
        <h3>Test Philippine Employee Creation</h3>
        <p>This will test creating employees with Philippine addresses and postal codes.</p>
        
        <div class="test-data">
            <strong>Test Philippine Employee:</strong><br>
            Name: Juan Dela Cruz<br>
            Email: juan.delacruz.[timestamp]@company.com<br>
            Department: IT<br>
            Position: Software Developer<br>
            Date Hired: 2024-01-01<br>
            Phone: +63 917 123 4567<br>
            Address: 123 Rizal Street, Barangay San Antonio, Makati City, Metro Manila, 1223, PH
        </div>
        
        <button onclick="testPhilippineEmployee()">Test Philippine Employee</button>
        <button onclick="testManilaMakatiEmployee()">Test Makati Employee (4-digit ZIP)</button>
        <button onclick="testCebuEmployee()">Test Cebu Employee</button>
        <button onclick="testWithoutAddress()">Test Without Address</button>
        <div id="philippineResult" class="result"></div>
    </div>

    <div class="test-section">
        <h3>Test Various International Formats</h3>
        <button onclick="testUSEmployee()">Test US Employee (5-digit ZIP)</button>
        <button onclick="testCanadianEmployee()">Test Canadian Employee (Postal Code)</button>
        <button onclick="testUKEmployee()">Test UK Employee (Postcode)</button>
        <div id="internationalResult" class="result"></div>
    </div>

    <div class="test-section">
        <h3>Backend Health Check</h3>
        <button onclick="testBackendHealth()">Check Backend Status</button>
        <div id="healthResult" class="result"></div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8080/api';

        async function testPhilippineEmployee() {
            const resultDiv = document.getElementById('philippineResult');
            try {
                const testEmployee = {
                    firstName: "Juan",
                    lastName: "Dela Cruz",
                    middleInitial: "M",
                    email: `juan.delacruz.${Date.now()}@company.com`,
                    cellphone: "+63 917 123 4567",
                    birthday: "1990-01-01",
                    dateHired: "2024-01-01",
                    bloodType: "O+",
                    department: "IT",
                    position: "Software Developer",
                    religion: "Catholic",
                    addressHouse: "123 Rizal Street",
                    addressBarangay: "San Antonio",
                    addressCity: "Makati City",
                    addressProvince: "Metro Manila",
                    addressZip: "1223",  // 4-digit Philippine postal code
                    addressCountry: "PH"
                };

                console.log('Sending Philippine employee data:', testEmployee);

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testManilaMakatiEmployee() {
            const resultDiv = document.getElementById('philippineResult');
            try {
                const testEmployee = {
                    firstName: "Maria",
                    lastName: "Santos",
                    email: `maria.santos.${Date.now()}@company.com`,
                    cellphone: "09171234567",
                    dateHired: "2024-01-01",
                    department: "HR",
                    position: "HR Manager",
                    addressHouse: "456 EDSA",
                    addressBarangay: "Poblacion",
                    addressCity: "Makati",
                    addressProvince: "Metro Manila",
                    addressZip: "1200",  // Makati postal code
                    addressCountry: "PH"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `Makati Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testCebuEmployee() {
            const resultDiv = document.getElementById('philippineResult');
            try {
                const testEmployee = {
                    firstName: "Jose",
                    lastName: "Rizal",
                    email: `jose.rizal.${Date.now()}@company.com`,
                    dateHired: "2024-01-01",
                    department: "Finance",
                    position: "Accountant",
                    addressHouse: "789 Colon Street",
                    addressCity: "Cebu City",
                    addressProvince: "Cebu",
                    addressZip: "6000",  // Cebu postal code
                    addressCountry: "PH"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `Cebu Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testWithoutAddress() {
            const resultDiv = document.getElementById('philippineResult');
            try {
                const testEmployee = {
                    firstName: "Ana",
                    lastName: "Garcia",
                    email: `ana.garcia.${Date.now()}@company.com`,
                    dateHired: "2024-01-01",
                    department: "IT",
                    position: "Software Developer",
                    addressCountry: "PH"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `No Address Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testUSEmployee() {
            const resultDiv = document.getElementById('internationalResult');
            try {
                const testEmployee = {
                    firstName: "John",
                    lastName: "Smith",
                    email: `john.smith.${Date.now()}@company.com`,
                    dateHired: "2024-01-01",
                    department: "IT",
                    position: "Software Developer",
                    addressHouse: "123 Main Street",
                    addressCity: "New York",
                    addressProvince: "NY",
                    addressZip: "10001",  // US 5-digit ZIP
                    addressCountry: "US"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `US Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testCanadianEmployee() {
            const resultDiv = document.getElementById('internationalResult');
            try {
                const testEmployee = {
                    firstName: "Pierre",
                    lastName: "Trudeau",
                    email: `pierre.trudeau.${Date.now()}@company.com`,
                    dateHired: "2024-01-01",
                    department: "Operations",
                    position: "Operations Manager",
                    addressHouse: "24 Sussex Drive",
                    addressCity: "Ottawa",
                    addressProvince: "Ontario",
                    addressZip: "K1A 0A2",  // Canadian postal code
                    addressCountry: "CA"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `Canada Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testUKEmployee() {
            const resultDiv = document.getElementById('internationalResult');
            try {
                const testEmployee = {
                    firstName: "Elizabeth",
                    lastName: "Windsor",
                    email: `elizabeth.windsor.${Date.now()}@company.com`,
                    dateHired: "2024-01-01",
                    department: "Marketing",
                    position: "Marketing Manager",
                    addressHouse: "Buckingham Palace",
                    addressCity: "London",
                    addressProvince: "Greater London",
                    addressZip: "SW1A 1AA",  // UK postcode
                    addressCountry: "GB"
                };

                const response = await fetch(`${API_BASE}/employees`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testEmployee)
                });
                
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = `UK Test - Status: ${response.status}\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Network Error: ${error.message}`;
            }
        }

        async function testBackendHealth() {
            const resultDiv = document.getElementById('healthResult');
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                
                resultDiv.className = `result ${response.ok ? 'success' : 'error'}`;
                resultDiv.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                resultDiv.className = 'result error';
                resultDiv.textContent = `Error: ${error.message}`;
            }
        }
    </script>
</body>
</html>
